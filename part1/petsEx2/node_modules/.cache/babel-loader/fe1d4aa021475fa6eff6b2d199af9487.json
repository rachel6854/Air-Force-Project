{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Owner\\\\Desktop\\\\air-force-project\\\\part1\\\\petsEx2\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Owner\\\\Desktop\\\\air-force-project\\\\part1\\\\petsEx2\\\\src\\\\components\\\\PositionData\\\\PositionData.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport ContentWrapper from '../content-wrapper/content-wrapper';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport CircularProgress from '@material-ui/core/CircularProgress'; //import HistoryChart from '@bit/ofek.catdog.history-chart';\n\nimport HistoryChart from '../history-chart/history-chart'; // const history = [\n//   {\n//     text: 'Dog',\n//     value: 7,\n//   },\n//   {\n//     text: 'Cat',\n//     value: 5,\n//   },\n//   {\n//     text: 'Pig',\n//     value: 2,\n//   },\n//   {\n//     text: 'Cow',\n//     value: 1,\n//   },\n//   {\n//     text: 'Horse',\n//     value: 9,\n//   },\n// ];\n\nconst useStyles = makeStyles(createStyles({\n  fullHeight: {\n    height: '100%'\n  },\n  imageContainer: {\n    height: '40%'\n  },\n  historyContainer: {\n    height: '60%'\n  },\n  image: {\n    borderRadius: '30%',\n    width: '60%',\n    maxHeight: '80%',\n    padding: '0 20%'\n  },\n  message: {\n    textAlign: 'center',\n    padding: '20%',\n    fontStyle: 'italic'\n  }\n}));\n\nconst mapDataToHistory = mapData => mapData.history.map(({\n  amount,\n  petType: {\n    description\n  }\n}) => ({\n  text: description,\n  value: amount\n}));\n\nconst PositionData = ({\n  loading,\n  mapData\n}) => {\n  const _useStyles = useStyles(),\n        image = _useStyles.image,\n        message = _useStyles.message,\n        fullHeight = _useStyles.fullHeight,\n        imageContainer = _useStyles.imageContainer,\n        historyContainer = _useStyles.historyContainer;\n\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        history = _useState2[0],\n        setHistory = _useState2[1];\n\n  useEffect(() => {\n    if (mapData !== undefined && mapData !== null) {\n      setHistory(mapDataToHistory(mapData));\n    }\n  }, [mapData]);\n\n  if (loading) {\n    return React.createElement(\"div\", {\n      className: message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(CircularProgress, {\n      style: {\n        height: '80px',\n        width: '80px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }));\n  } // No selected point\n\n\n  if (mapData === undefined) {\n    return React.createElement(Typography, {\n      variant: \"h4\",\n      className: message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"\\u05DC\\u05D7\\u05E5 \\u05E2\\u05DC \\u05D0\\u05D9\\u05E8\\u05D5\\u05E2\") // <HistoryChart history={history} />\n    ;\n  } // No animal exists at location\n\n\n  if (mapData === null) {\n    return React.createElement(Typography, {\n      variant: \"h4\",\n      className: message,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"\\u05D0\\u05D9\\u05DF \\u05D1\\u05E2\\u05DC\\u05D9 \\u05D7\\u05D9\\u05D9\\u05DD \\u05D1\\u05D0\\u05D9\\u05E8\\u05D5\\u05E2 \\u05D4\\u05D6\\u05D5\");\n  }\n\n  return React.createElement(Grid, {\n    className: fullHeight,\n    container: true,\n    direction: \"column\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(Grid, {\n    item: true,\n    className: imageContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }), React.createElement(\"img\", {\n    className: image,\n    src: mapData.lastPictureUrl,\n    alt: \"Animal\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), React.createElement(\"hr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })), React.createElement(Grid, {\n    item: true,\n    className: historyContainer,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(ContentWrapper, {\n    header: \"\\u05D4\\u05D9\\u05E1\\u05D8\\u05D5\\u05E8\\u05D9\\u05D4\",\n    variant: \"body1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, React.createElement(HistoryChart, {\n    history: mapDataToHistory(mapData),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }))));\n};\n\nexport default PositionData;","map":{"version":3,"sources":["C:/Users/Owner/Desktop/air-force-project/part1/petsEx2/src/components/PositionData/PositionData.tsx"],"names":["React","useEffect","useState","ContentWrapper","makeStyles","createStyles","Grid","Typography","CircularProgress","HistoryChart","useStyles","fullHeight","height","imageContainer","historyContainer","image","borderRadius","width","maxHeight","padding","message","textAlign","fontStyle","mapDataToHistory","mapData","history","map","amount","petType","description","text","value","PositionData","loading","setHistory","undefined","lastPictureUrl"],"mappings":"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","sourcesContent":["import React, {FC, useEffect, useState} from 'react';\r\nimport ContentWrapper from '../content-wrapper/content-wrapper';\r\nimport {makeStyles, createStyles} from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport {MapData} from '../../graphql/queries/map-data';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n//import HistoryChart from '@bit/ofek.catdog.history-chart';\r\nimport HistoryChart from '../history-chart/history-chart';\r\n\r\n// const history = [\r\n//   {\r\n//     text: 'Dog',\r\n//     value: 7,\r\n//   },\r\n//   {\r\n//     text: 'Cat',\r\n//     value: 5,\r\n//   },\r\n//   {\r\n//     text: 'Pig',\r\n//     value: 2,\r\n//   },\r\n//   {\r\n//     text: 'Cow',\r\n//     value: 1,\r\n//   },\r\n//   {\r\n//     text: 'Horse',\r\n//     value: 9,\r\n//   },\r\n// ];\r\n\r\nconst useStyles = makeStyles(\r\n  createStyles({\r\n    fullHeight: {\r\n      height: '100%',\r\n    },\r\n    imageContainer: {\r\n      height: '40%',\r\n    },\r\n    historyContainer: {\r\n      height: '60%',\r\n    },\r\n    image: {\r\n      borderRadius: '30%',\r\n      width: '60%',\r\n      maxHeight: '80%',\r\n      padding: '0 20%',\r\n    },\r\n    message: {\r\n      textAlign: 'center',\r\n      padding: '20%',\r\n      fontStyle: 'italic',\r\n    },\r\n  })\r\n);\r\n\r\ninterface PositionDataProps {\r\n  loading: boolean;\r\n  mapData?: MapData | null;\r\n}\r\n\r\nconst mapDataToHistory = (mapData: MapData): any[] =>\r\n  mapData.history.map(({amount, petType: {description}}) => ({\r\n    text: description,\r\n    value: amount,\r\n  }));\r\n\r\nconst PositionData: FC<PositionDataProps> = ({loading, mapData}) => {\r\n  const {\r\n    image,\r\n    message,\r\n    fullHeight,\r\n    imageContainer,\r\n    historyContainer,\r\n  } = useStyles();\r\n  const [history, setHistory] = useState<any[]>([]);\r\n\r\n  useEffect(() => {\r\n    if (mapData !== undefined && mapData !== null) {\r\n      setHistory(mapDataToHistory(mapData));\r\n    }\r\n  }, [mapData]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={message}>\r\n        <CircularProgress\r\n          style={{\r\n            height: '80px',\r\n            width: '80px',\r\n          }}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // No selected point\r\n  if (mapData === undefined) {\r\n    return (\r\n      <Typography variant=\"h4\" className={message}>\r\n        לחץ על אירוע\r\n      </Typography>\r\n      // <HistoryChart history={history} />\r\n    );\r\n  }\r\n\r\n  // No animal exists at location\r\n  if (mapData === null) {\r\n    return (\r\n      <Typography variant=\"h4\" className={message}>\r\n        אין בעלי חיים באירוע הזו\r\n      </Typography>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Grid className={fullHeight} container direction=\"column\">\r\n      <Grid item className={imageContainer}>\r\n        <hr />\r\n        <img className={image} src={mapData.lastPictureUrl} alt=\"Animal\" />\r\n        <hr />\r\n      </Grid>\r\n      <Grid item className={historyContainer}>\r\n        <ContentWrapper header=\"היסטוריה\" variant=\"body1\">\r\n          {<HistoryChart history={mapDataToHistory(mapData)} />}\r\n        </ContentWrapper>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default PositionData;\r\n"]},"metadata":{},"sourceType":"module"}